<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>Phuc Long - Homepage</title>
  <style>
    :root {
      --brand-purple-dark: #2b0054;
      --brand-purple: #4b008c;
      --brand-purple-light: #efe9ff;
      --brand-text-dark: #1a1a3a;
      --brand-text-mid: #5a5a7a;
      --accent-pink: #ff1f8a;
      --bg-page: #ffffff;
      --bg-section-alt: #f4f3ff;
      --border-card: #eeeeff;
      --footer-bg: #f3f3ff;
      --footer-bottom-bg: #e7e7ff;
      --radius-card: 6px;
      --shadow-card: 0 8px 20px rgba(0,0,0,0.06);
      --max-width-page: 1280px;
      --font-main: "Inter", system-ui, -apple-system, BlinkMacSystemFont,
        "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
    }
    * {
      box-sizing: border-box;
      -webkit-font-smoothing: antialiased;
    }
    body {
      margin: 0;
      font-family: var(--font-main);
      background-color: var(--bg-page);
      color: var(--brand-text-dark);
      line-height: 1.4;
    }
    a {
      text-decoration: none;
      color: inherit;
    }
    img {
      max-width: 100%;
      display: block;
    }
    /* TOP CONTACT BAR */
    .top-contact-bar {
      background-color: var(--brand-purple-dark);
      color: #fff;
      font-size: 12px;
      line-height: 1;
    }
    .top-contact-inner {
      max-width: var(--max-width-page);
      margin: 0 auto;
      padding: 6px 16px;
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      justify-content: space-between;
      gap: 8px;
      color: #fff;
    }
    .contact-left,
    .contact-right {
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      gap: 16px;
      color: #fff;
    }
    .contact-item {
      color: #fff;
      display: flex;
      align-items: center;
      gap: 6px;
      white-space: nowrap;
    }
    .search-bar {
      display: flex;
      align-items: center;
      background-color: #fff;
      border-radius: 2px;
      overflow: hidden;
      border: 1px solid #ccc;
      height: 24px;
    }
    .search-bar input {
      border: 0;
      height: 24px;
      padding: 0 8px;
      font-size: 12px;
      outline: none;
    }
    .search-bar button {
      background-color: var(--accent-pink);
      color: #fff;
      border: 0;
      height: 24px;
      width: 24px;
      font-size: 12px;
      cursor: pointer;
      line-height: 1;
    }
    /* MAIN NAV */
    .main-nav-wrapper {
      border-bottom: 1px solid #d9d9f9;
      background-color: #fff;
    }
    .main-nav-inner {
      max-width: var(--max-width-page);
      margin: 0 auto;
      padding: 12px 16px;
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      justify-content: space-between;
      gap: 16px;
    }
    .brand-area {
      font-size: 18px;
      font-weight: 600;
      color: var(--brand-text-dark);
      white-space: nowrap;
    }
    .nav-links {
      display: flex;
      flex-wrap: wrap;
      gap: 16px;
      font-size: 13px;
      color: var(--brand-text-dark);
    }
    .nav-links a {
      color: var(--brand-text-dark);
      position: relative;
    }
    .nav-links a.active {
      color: var(--accent-pink);
    }
    .nav-links a.active::after {
      content: "";
      position: absolute;
      left: 0;
      right: 0;
      bottom: -4px;
      height: 2px;
      background-color: var(--accent-pink);
      border-radius: 1px;
    }
    /* HERO */
    .hero {
      background-color: var(--brand-purple-dark);
      background-image: url("../Assets/images/Banner 1.jpg");
      background-size: cover;
      background-position: center;
      color: #fff;
    }
    .hero-inner {
      max-width: var(--max-width-page);
      margin: 0 auto;
      padding: 32px 16px 40px;
      min-height: 280px;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-wrap: wrap;
      position: relative;
    }
    /* BEST SELLERS SECTIONS */
    .section-best-sellers {
      max-width: var(--max-width-page);
      margin: 32px auto 16px;
      padding: 0 16px;
    }
    .carousel-header {
      text-align: center;
      font-size: 18px;
      font-weight: 600;
      color: var(--brand-text-dark);
      line-height: 1.4;
      text-transform: uppercase;
      margin-bottom: 24px;
    }
    /* CAROUSEL STRUCTURE */
    .carousel {
      position: relative;
      display: flex;
      align-items: center;
    }
    .carousel-window {
      overflow: hidden;
      width: 100%;
    }
    .carousel-track {
      display: flex;
      flex-wrap: nowrap;
      gap: 16px;
      scroll-behavior: smooth;
    }
    .product-card {
      flex: 0 0 200px; /* chiều rộng card để scroll theo block */
      background-color: #fff;
      border-radius: var(--radius-card);
      box-shadow: var(--shadow-card);
      border: 1px solid var(--border-card);
      padding: 16px;
      text-align: center;
      font-size: 13px;
      line-height: 1.4;
    }
    .product-img {
      display: flex;
      align-items: center;
      justify-content: center;
      height: 140px;
      margin-bottom: 12px;
    }
    .product-img img {
      max-height: 140px;
      object-fit: contain;
    }
    .product-name {
      font-size: 13px;
      font-weight: 600;
      color: #d10071;
      margin-bottom: 6px;
    }
    .product-size {
      font-size: 12px;
      color: #1a1a3a;
      line-height: 1.3;
    }
    .product-price {
      font-size: 12px;
      font-weight: 500;
      color: #1a1a3a;
      margin-top: 4px;
    }
    .carousel-arrow {
      background-color: #fff;
      color: var(--accent-pink);
      font-size: 20px;
      font-weight: 600;
      width: 32px;
      height: 32px;
      border-radius: 4px;
      border: 2px solid var(--accent-pink);
      box-shadow: var(--shadow-card);
      cursor: pointer;
      user-select: none;
      line-height: 28px;
      text-align: center;
    }
    .carousel-arrow.left {
      margin-right: 8px;
    }
    .carousel-arrow.right {
      margin-left: 8px;
    }
    /* BỘ SƯU TẬP */
    .collection-wrapper {
      background-color: var(--bg-section-alt);
      border-top: 1px solid #dedcff;
      border-bottom: 1px solid #dedcff;
      margin-top: 32px;
    }
    .collection-inner {
      max-width: var(--max-width-page);
      margin: 0 auto;
      padding: 32px 16px;
      display: grid;
      gap: 24px;
      align-items: center;
    }
    @media(min-width:768px){
      .collection-inner {
        grid-template-columns: 1fr 1fr;
      }
    }
    .collection-image-card {
      background-color: #fff;
      border-radius: var(--radius-card);
      box-shadow: var(--shadow-card);
      border: 1px solid var(--border-card);
      padding: 16px;
      max-width: 320px;
    }
    .collection-image-card img {
      width: 100%;
      height: auto;
      object-fit: cover;
    }
    .collection-copy h3 {
      font-size: 20px;
      font-weight: 700;
      color: var(--brand-purple-dark);
      margin: 0 0 8px;
      line-height: 1.3;
      text-transform: uppercase;
    }
    .collection-copy h3 span {
      display: block;
    }
    .collection-copy .bullets {
      font-size: 13px;
      color: var(--brand-text-mid);
      line-height: 1.5;
      margin-top: 16px;
    }
    .collection-copy .bullets p {
      margin: 0 0 8px;
    }
    .collection-copy .cta-btn {
      display: inline-block;
      background-color: var(--accent-pink);
      color: #fff;
      border-radius: 2px;
      padding: 8px 16px;
      font-size: 13px;
      font-weight: 600;
      margin-top: 16px;
    }
    /* COMBO BANNER */
    .combo-banner {
      width: 100%;
      background-color: var(--brand-purple-dark);
      background-image: url("../Assets/images/Banner 2.jpg");
      background-size: cover;
      background-position: center;
      color: #fff;
      min-height: 250px;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: left;
    }
    /* DISCOUNT ITEM */
    .discount-section {
      max-width: var(--max-width-page);
      margin: 0 auto;
      padding: 32px 16px 48px;
    }
    .discount-header {
      text-align: center;
      margin-bottom: 24px;
    }
    .discount-header h2 {
      margin: 0;
      font-size: 20px;
      line-height: 1.4;
      font-weight: 600;
      color: var(--brand-text-dark);
    }
    .discount-tabs {
      margin-top: 8px;
      font-size: 13px;
      color: var(--accent-pink);
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      justify-content: center;
    }
    .discount-tabs a {
      color: var(--accent-pink);
      text-decoration: none;
    }
    .discount-body {
      display: grid;
      gap: 24px;
      align-items: start;
    }
    @media(min-width:768px){
      .discount-body {
        grid-template-columns: 1fr 1fr;
      }
    }
    .discount-text {
      font-size: 14px;
      color: var(--brand-text-dark);
      max-width: 480px;
    }
    .discount-text .percent {
      color: var(--brand-purple-dark);
      font-size: 18px;
      font-weight: 600;
      margin-bottom: 8px;
    }
    .discount-text .product-title {
      color: var(--accent-pink);
      font-weight: 600;
      font-size: 15px;
      margin-bottom: 12px;
    }
    .discount-text p.desc {
      font-size: 13px;
      line-height: 1.5;
      color: var(--brand-text-mid);
      margin: 0 0 12px;
    }
    .checklist {
      display: flex;
      flex-wrap: wrap;
      font-size: 13px;
      color: var(--brand-text-dark);
      line-height: 1.4;
      margin: 0 -8px 16px;
      padding: 0;
      list-style: none;
    }
    .checklist li {
      width: 50%;
      padding: 4px 8px;
    }
    .checklist li::before {
      content: "✓ ";
      color: var(--accent-pink);
      font-weight: 600;
    }
    .btn-shop-now {
      display: inline-block;
      background-color: var(--accent-pink);
      color: #fff;
      border-radius: 2px;
      padding: 8px 16px;
      font-size: 13px;
      font-weight: 600;
      text-decoration: none;
    }
    .discount-visual {
      position: relative;
      text-align: center;
    }
    .discount-circle-bg {
      position: absolute;
      top: 30px;
      left: 50%;
      transform: translateX(-50%);
      width: 200px;
      height: 200px;
      background-color: #ffeef6;
      border-radius: 50%;
      z-index: 0;
    }
    .discount-image-wrapper {
      position: relative;
      z-index: 1;
      max-width: 220px;
      margin: 0 auto;
    }
    .discount-image-wrapper img {
      width: 100%;
      height: auto;
      object-fit: contain;
    }
    /* NEWSLETTER BANNER */
    .newsletter-banner {
      background-color: var(--bg-section-alt);
      border-top: 1px solid #dedcff;
      border-bottom: 1px solid #dedcff;
    }
    .newsletter-inner {
      max-width: var(--max-width-page);
      margin: 0 auto;
      padding: 24px 16px;
      display: grid;
      align-items: center;
      gap: 24px;
    }
    @media(min-width:768px){
      .newsletter-inner {
        grid-template-columns: 2fr 1fr;
      }
    }
    .newsletter-left {
      background-image: url("../Assets/images/ChienGameSanQua.jpg");
      background-size: cover;
      background-position: center;
      min-height: 140px;
      border-radius: var(--radius-card);
      box-shadow: var(--shadow-card);
      border: 1px solid var(--border-card);
    }
    .newsletter-right {
      text-align: center;
      font-size: 14px;
      color: var(--brand-text-dark);
      line-height: 1.4;
    }
    .newsletter-right h3 {
      margin: 0 0 12px;
      color: var(--brand-text-dark);
      font-size: 16px;
      font-weight: 600;
      line-height: 1.4;
    }
    .newsletter-right .btn-shop-now {
      display: inline-block;
      background-color: var(--accent-pink);
      color: #fff;
      border-radius: 2px;
      padding: 8px 16px;
      font-size: 13px;
      font-weight: 600;
      text-decoration: none;
    }
    /* BLOG */
    .blog-section {
      max-width: var(--max-width-page);
      margin: 32px auto 48px;
      padding: 0 16px;
    }
    .blog-header {
      text-align: center;
      margin-bottom: 24px;
    }
    .blog-header h2 {
      margin: 0;
      font-size: 20px;
      font-weight: 600;
      line-height: 1.4;
      color: var(--brand-purple-dark);
    }
    .blog-cards {
      display: grid;
      gap: 16px;
    }
    @media(min-width:768px){
      .blog-cards {
        grid-template-columns: repeat(3,1fr);
      }
    }
    .blog-card {
      background-color: #fff;
      border-radius: var(--radius-card);
      box-shadow: var(--shadow-card);
      border: 1px solid var(--border-card);
      overflow: hidden;
      display: flex;
      flex-direction: column;
    }
    .blog-image img {
      width: 100%;
      height: 160px;
      object-fit: cover;
      display: block;
    }
    .blog-content {
      padding: 16px;
      font-size: 13px;
      color: var(--brand-text-mid);
      line-height: 1.4;
      flex: 1;
    }
    .blog-meta {
      font-size: 11px;
      color: var(--brand-text-mid);
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      gap: 8px;
      margin-bottom: 8px;
    }
    .blog-title {
      font-size: 13px;
      font-weight: 600;
      color: var(--brand-text-dark);
      line-height: 1.4;
      margin-bottom: 8px;
    }
    .blog-desc {
      font-size: 12px;
      color: var(--brand-text-mid);
      line-height: 1.4;
      margin-bottom: 8px;
    }
    .blog-readmore {
      font-size: 12px;
      font-weight: 600;
      color: var(--accent-pink);
      text-decoration: none;
    }
    /* FOOTER */
    footer {
      background-color: var(--footer-bg);
      border-top: 1px solid #dedcff;
      color: var(--brand-text-dark);
      font-size: 13px;
      line-height: 1.5;
    }
    .footer-top {
      max-width: var(--max-width-page);
      margin: 0 auto;
      padding: 32px 16px;
      display: grid;
      gap: 24px;
    }
    @media(min-width:768px){
      .footer-top {
        grid-template-columns: 1.2fr 1fr 1fr 1fr;
      }
    }
    .footer-col h4 {
      font-size: 14px;
      font-weight: 600;
      color: var(--brand-text-dark);
      margin: 0 0 12px;
    }
    .footer-newsletter {
      max-width: 260px;
    }
    .newsletter-input-row {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-bottom: 12px;
    }
    .newsletter-input-row input {
      flex: 1;
      height: 32px;
      border-radius: 2px;
      border: 1px solid #ccc;
      font-size: 12px;
      padding: 0 8px;
      outline: none;
    }
    .newsletter-input-row button {
      background-color: var(--accent-pink);
      border: none;
      color: #fff;
      height: 32px;
      padding: 0 12px;
      border-radius: 2px;
      font-size: 12px;
      font-weight: 600;
      cursor: pointer;
    }
    .footer-address {
      font-size: 12px;
      color: var(--brand-text-mid);
      line-height: 1.4;
    }
    .footer-links a {
      display: block;
      font-size: 12px;
      color: var(--brand-text-mid);
      line-height: 1.6;
      text-decoration: none;
      margin-bottom: 4px;
    }
    .footer-links a:hover {
      color: var(--accent-pink);
    }
    .footer-bottom {
      background-color: var(--footer-bottom-bg);
      border-top: 1px solid #dedcff;
      font-size: 12px;
      color: var(--brand-text-mid);
    }
    .footer-bottom-inner {
      max-width: var(--max-width-page);
      margin: 0 auto;
      padding: 12px 16px;
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
    }
    .footer-social {
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .social-circle {
      width: 24px;
      height: 24px;
      border-radius: 50%;
      background-color: var(--brand-purple-dark);
      color: #fff;
      font-size: 12px;
      font-weight: 600;
      display: flex;
      align-items: center;
      justify-content: center;
      line-height: 1;
    }
    /* PRODUCT ICONS */
    .product-img {
      position: relative;
    }
    .product-icons {
      position: absolute;
      top: 8px;
      right: 8px;
      display: flex;
      gap: 5px;
      opacity: 0;
      transition: opacity 0.3s ease;
    }
    .product-card:hover .product-icons {
      opacity: 1;
    }
    .cart-icon-btn, .heart-icon-btn {
      background-color: rgba(255, 255, 255, 0.9);
      border: none;
      border-radius: 50%;
      width: 32px;
      height: 32px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      font-size: 14px;
      transition: all 0.3s ease;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .cart-icon-btn:hover {
      background-color: var(--accent-pink);
      color: white;
      transform: scale(1.1);
    }
    .heart-icon-btn:hover {
      background-color: #ff6b6b;
      color: white;
      transform: scale(1.1);
    }
    /* CART ICON BADGE */
    .cart-link {
      position: relative;
    }
    .cart-badge {
      position: absolute;
      top: -5px;
      right: -5px;
      background-color: var(--accent-pink);
      color: white;
      border-radius: 50%;
      width: 20px;
      height: 20px;
      font-size: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
    }
    /* RESPONSIVE */
    @media(max-width:480px){
      .checklist li { width: 100%; }
      .newsletter-inner { grid-template-columns: 1fr; }
      .footer-top { grid-template-columns: 1fr; }
    }
  </style>
</head>
<body>
  <!-- TOP CONTACT BAR -->
  <div class="top-contact-bar">
    <div class="top-contact-inner">
      <div class="contact-left">
        <div class="contact-item">sales@phuclong.masangroup.com</div>
        <div class="contact-item">1800 6779</div>
      </div>
      <div class="contact-right">
        <div class="contact-item">VIE ▼</div>
        <div class="contact-item">VND ▼</div>
        <div class="contact-item" id="loginStatus" onclick="toggleLogin()" style="cursor: pointer;">Login</div>
        <div class="contact-item">Wishlist</div>
        <div class="contact-item cart-link" onclick="goToCart()" style="cursor: pointer;">🛒</div>
        <form class="search-bar">
          <input type="text" placeholder="Search..." />
          <button type="submit">🔍</button>
        </form>
      </div>
    </div>
  </div>
  <!-- MAIN NAV -->
  <header class="main-nav-wrapper">
    <div class="main-nav-inner">
      <div class="brand-area">Phuc Long</div>
      <nav class="nav-links">
        <a class="active" href="#">Home</a>
        <a href="#">Pages</a>
        <a href="#">Products</a>
        <a href="#">Blog</a>
        <a href="#">Shop</a>
        <a href="#">Contact</a>
      </nav>
    </div>
  </header>
  <!-- HERO (Banner tím Halloween) -->
  <section class="hero">
    <div class="hero-inner"><!-- text nằm sẵn trong Banner 1.jpg --></div>
  </section>
  <!-- BEST SELLERS #1: TRÀ THƠM CHẤT LƯỢNG -->
  <section class="section-best-sellers">
    <div class="carousel-header">
      BEST SELLERS – TRÀ THƠM CHẤT LƯỢNG
    </div>
    <div class="carousel" data-carousel="1">
      <button class="carousel-arrow left" data-dir="left">‹</button>
      <div class="carousel-window">
        <div class="carousel-track">
          <!-- SP1 -->
          <div class="product-card" onclick="goToProductDetail('hong-tra-dao', 'Hồng trà đào', 60000, 'Trà thơm đậm vị/HongTraDao.png')" style="cursor: pointer;">
            <div class="product-img">
              <img src="../Assets/images/Trà thơm đậm vị/HongTraDao.png" alt="Hồng trà đào" />
              <div class="product-icons">
                <button class="cart-icon-btn" onclick="event.stopPropagation(); addToCart('hong-tra-dao', 'Hồng trà đào', 60000, 'Trà thơm đậm vị/HongTraDao.png')">🛒</button>
                <button class="heart-icon-btn" onclick="event.stopPropagation();">❤️</button>
              </div>
            </div>
            <div class="product-name">Hồng trà đào</div>
            <div class="product-size">Size: M - L</div>
            <div class="product-price">60.000 - 69.000₫</div>
          </div>
          <!-- SP2 -->
          <div class="product-card" onclick="goToProductDetail('tra-ba-tuoc-luu-do', 'Trà bá tước lựu đỏ', 60000, 'Trà thơm đậm vị/TraBaTuocLuuDo.png')" style="cursor: pointer;">
            <div class="product-img">
              <img src="../Assets/images/Trà thơm đậm vị/TraBaTuocLuuDo.png" alt="Trà bá tước lựu đỏ" />
              <div class="product-icons">
                <button class="cart-icon-btn" onclick="event.stopPropagation(); addToCart('tra-ba-tuoc-luu-do', 'Trà bá tước lựu đỏ', 60000, 'Trà thơm đậm vị/TraBaTuocLuuDo.png')">🛒</button>
                <button class="heart-icon-btn" onclick="event.stopPropagation();">❤️</button>
              </div>
            </div>
            <div class="product-name">Trà bá tước lựu đỏ</div>
            <div class="product-size">Size: M - L</div>
            <div class="product-price">60.000 - 69.000₫</div>
          </div>
          <!-- SP3 -->
          <div class="product-card" onclick="goToProductDetail('tra-lai-dac-thom', 'Trà lài đặc thơm', 59000, 'Trà thơm đậm vị/TraLaiDacThom.png')" style="cursor: pointer;">
            <div class="product-img">
              <img src="../Assets/images/Trà thơm đậm vị/TraLaiDacThom.png" alt="Trà lài đặc thơm" />
              <div class="product-icons">
                <button class="cart-icon-btn" onclick="event.stopPropagation(); addToCart('tra-lai-dac-thom', 'Trà lài đặc thơm', 59000, 'Trà thơm đậm vị/TraLaiDacThom.png')">🛒</button>
                <button class="heart-icon-btn" onclick="event.stopPropagation();">❤️</button>
              </div>
            </div>
            <div class="product-name">Trà lài đặc thơm</div>
            <div class="product-size">Size: M - L</div>
            <div class="product-price">59.000 - 65.000₫</div>
          </div>
          <!-- SP4 -->
          <div class="product-card" onclick="goToProductDetail('tra-lai-mang-cau-thach-dua', 'Trà lài măng cầu thạch dừa', 60000, 'Trà thơm đậm vị/TraLaiMangCauThachDua.png')" style="cursor: pointer;">
            <div class="product-img">
              <img src="../Assets/images/Trà thơm đậm vị/TraLaiMangCauThachDua.png" alt="Trà lài măng cầu thạch dừa" />
              <div class="product-icons">
                <button class="cart-icon-btn" onclick="event.stopPropagation(); addToCart('tra-lai-mang-cau-thach-dưa', 'Trà lài măng cầu thạch dừa', 60000, 'Trà thơm đậm vị/TraLaiMangCauThachDua.png')">🛒</button>
                <button class="heart-icon-btn" onclick="event.stopPropagation();">❤️</button>
              </div>
            </div>
            <div class="product-name">Trà lài măng cầu thạch dừa</div>
            <div class="product-size">Size: M - L</div>
            <div class="product-price">60.000 - 69.000₫</div>
          </div>
          <!-- SP5 -->
          <div class="product-card" onclick="goToProductDetail('tra-lucky-tea', 'Trà Lucky Tea', 59000, 'Trà thơm đậm vị/TraLuckyTea.png')" style="cursor: pointer;">
            <div class="product-img">
              <img src="../Assets/images/Trà thơm đậm vị/TraLuckyTea.png" alt="Trà Lucky Tea" />
              <div class="product-icons">
                <button class="cart-icon-btn" onclick="event.stopPropagation(); addToCart('tra-lucky-tea', 'Trà Lucky Tea', 59000, 'Trà thơm đậm vị/TraLuckyTea.png')">🛒</button>
                <button class="heart-icon-btn" onclick="event.stopPropagation();">❤️</button>
              </div>
            </div>
            <div class="product-name">Trà Lucky Tea</div>
            <div class="product-size">Size: M - L</div>
            <div class="product-price">59.000 - 69.000₫</div>
          </div>
        </div>
      </div>
      <button class="carousel-arrow right" data-dir="right">›</button>
    </div>
  </section>
  <!-- BEST SELLERS #2: TRÀ SỮA ĐẬM VỊ -->
  <section class="section-best-sellers">
    <div class="carousel-header">
      BEST SELLERS – TRÀ SỮA ĐẬM VỊ
    </div>
    <div class="carousel" data-carousel="2">
      <button class="carousel-arrow left" data-dir="left">‹</button>
      <div class="carousel-window">
        <div class="carousel-track">
          <!-- SP1 -->
          <div class="product-card" onclick="goToProductDetail('tra-sua-matcha', 'Trà sữa matcha', 49000, 'Trà sữa đậm vị/TraSuaMatcha.png')" style="cursor: pointer;">
            <div class="product-img">
              <img src="../Assets/images/Trà sữa đậm vị/TraSuaMatcha.png" alt="Trà sữa matcha" />
              <div class="product-icons">
                <button class="cart-icon-btn" onclick="event.stopPropagation(); addToCart('tra-sua-matcha', 'Trà sữa matcha', 49000, 'Trà sữa đậm vị/TraSuaMatcha.png')">🛒</button>
                <button class="heart-icon-btn" onclick="event.stopPropagation();">❤️</button>
              </div>
            </div>
            <div class="product-name">Trà sữa matcha</div>
            <div class="product-size">Size: M - L</div>
            <div class="product-price">49.000 - 65.000₫</div>
          </div>
          <!-- SP2 -->
          <div class="product-card" onclick="goToProductDetail('hong-tra-dao-sua-thach-konjac', 'Hồng trà đào sữa thạch Konjac', 54000, 'Trà sữa đậm vị/HongTraDaoSuaThachKonjac.png')" style="cursor: pointer;">
            <div class="product-img">
              <img src="../Assets/images/Trà sữa đậm vị/HongTraDaoSuaThachKonjac.png" alt="Hồng trà đào sữa thạch Konjac" />
              <div class="product-icons">
                <button class="cart-icon-btn" onclick="event.stopPropagation(); addToCart('hong-tra-dao-sua-thach-konjac', 'Hồng trà đào sữa thạch Konjac', 54000, 'Trà sữa đậm vị/HongTraDaoSuaThachKonjac.png')">🛒</button>
                <button class="heart-icon-btn" onclick="event.stopPropagation();">❤️</button>
              </div>
            </div>
            <div class="product-name">Hồng trà đào sữa thạch Konjac</div>
            <div class="product-size">Size: M - L</div>
            <div class="product-price">54.000 - 65.000₫</div>
          </div>
          <!-- SP3 -->
          <div class="product-card" onclick="goToProductDetail('hong-tra-sua', 'Hồng trà sữa', 45000, 'Trà sữa đậm vị/HongTraSua.png')" style="cursor: pointer;">
            <div class="product-img">
              <img src="../Assets/images/Trà sữa đậm vị/HongTraSua.png" alt="Hồng trà sữa" />
              <div class="product-icons">
                <button class="cart-icon-btn" onclick="event.stopPropagation(); addToCart('hong-tra-sua', 'Hồng trà sữa', 45000, 'Trà sữa đậm vị/HongTraSua.png')">🛒</button>
                <button class="heart-icon-btn" onclick="event.stopPropagation();">❤️</button>
              </div>
            </div>
            <div class="product-name">Hồng trà sữa</div>
            <div class="product-size">Size: M - L</div>
            <div class="product-price">45.000 - 55.000₫</div>
          </div>
          <!-- SP4 -->
          <div class="product-card" onclick="goToProductDetail('tra-sua-ba-tuoc', 'Trà sữa bá tước', 50000, 'Trà sữa đậm vị/TraSuaBaTuoc.png')" style="cursor: pointer;">
            <div class="product-img">
              <img src="../Assets/images/Trà sữa đậm vị/TraSuaBaTuoc.png" alt="Trà sữa bá tước" />
              <div class="product-icons">
                <button class="cart-icon-btn" onclick="event.stopPropagation(); addToCart('tra-sua-ba-tuoc', 'Trà sữa bá tước', 50000, 'Trà sữa đậm vị/TraSuaBaTuoc.png')">🛒</button>
                <button class="heart-icon-btn" onclick="event.stopPropagation();">❤️</button>
              </div>
            </div>
            <div class="product-name">Trà sữa bá tước</div>
            <div class="product-size">Size: M - L</div>
            <div class="product-price">50.000 - 55.000₫</div>
          </div>
          <!-- SP5 -->
          <div class="product-card" onclick="goToProductDetail('tra-sua-lai', 'Trà sữa lài', 55000, 'Trà sữa đậm vị/TraSuaLai.png')" style="cursor: pointer;">
            <div class="product-img">
              <img src="../Assets/images/Trà sữa đậm vị/TraSuaLai.png" alt="Trà sữa lài" />
              <div class="product-icons">
                <button class="cart-icon-btn" onclick="event.stopPropagation(); addToCart('tra-sua-lai', 'Trà sữa lài', 55000, 'Trà sữa đậm vị/TraSuaLai.png')">🛒</button>
                <button class="heart-icon-btn" onclick="event.stopPropagation();">❤️</button>
              </div>
            </div>
            <div class="product-name">Trà sữa lài</div>
            <div class="product-size">Size: M - L</div>
            <div class="product-price">55.000 - 59.000₫</div>
          </div>
        </div>
      </div>
      <button class="carousel-arrow right" data-dir="right">›</button>
    </div>
  </section>
  <!-- BỘ SƯU TẬP ĐÁM CUỐI KẸ -->
  <section class="collection-wrapper">
    <div class="collection-inner">
      <div class="collection-image-card">
        <img src="../Assets/images/Đám cưới kẹ.jpg" alt="Bộ sưu tập Đám cưới kẹ" />
      </div>
      <div class="collection-copy">
        <h3>
          <span>BỘ SƯU TẬP</span>
          <span>ĐÁM CUỐI KẸ</span>
        </h3>
        <div class="bullets">
          <p>BST phiên bản Halloween – đồ uống & bánh ngọt phong cách gothic.</p>
          <p>Hợp tác Phúc Long × ShopeeFood; combo "Ăn Hỷ Nhà Kẹ" chỉ 89K (giá gốc 114K).</p>
          <p>Áp dụng tại cửa hàng Phúc Long chọn lọc & đặt qua ShopeeFood; số lượng và thời gian có hạn.</p>
        </div>
        <a class="cta-btn" href="#">XEM NGAY</a>
      </div>
    </div>
  </section>
  <!-- COMBO "ĂN HỶ NHÀ KẸ" -->
  <section class="combo-banner">
    <!-- Banner 2.jpg chứa layout combo -->
  </section>
  <!-- DISCOUNT ITEM -->
  <section class="discount-section">
    <div class="discount-header">
      <h2>Discount Item</h2>
      <div class="discount-tabs">
        <a href="#">Milk Tea •</a>
        <a href="#">Fruit Tea</a>
        <a href="#">Bakery Collections</a>
      </div>
    </div>
    <div class="discount-body">
      <div class="discount-text">
        <div class="percent">20% Discount</div>
        <div class="product-title">Trà sữa Phúc Long</div>
        <p class="desc">
          Experience the perfect harmony of bold tea flavor and smooth creamy milk — a timeless signature of Phuc Long. Brewed from premium tea leaves, our milk tea delivers an authentic aroma and balanced sweetness that refreshes every sip.
        </p>
        <ul class="checklist">
          <li>Made from hand-picked tea leaves</li>
          <li>Creamy yet light milk flavor</li>
          <li>Perfect balance of sweetness</li>
          <li>Served fresh daily</li>
        </ul>
        <a class="btn-shop-now" href="#">Shop Now</a>
      </div>
      <div class="discount-visual">
        <div class="discount-circle-bg"></div>
        <div class="discount-image-wrapper">
          <img src="../Assets/images/aboutPL.jpg" alt="Trà sữa Phúc Long" />
        </div>
      </div>
    </div>
  </section>
  <!-- NEWSLETTER CTA -->
  <section class="newsletter-banner">
    <div class="newsletter-inner">
      <div class="newsletter-left"></div>
      <div class="newsletter-right">
        <h3>Get Latest Update By Subscribe Our Newsletter</h3>
        <a class="btn-shop-now" href="#">Shop Now</a>
      </div>
    </div>
  </section>
  <!-- BLOG -->
  <section class="blog-section">
    <div class="blog-header">
      <h2>Leatest Blog</h2>
    </div>
    <div class="blog-cards">
      <article class="blog-card">
        <div class="blog-image">
          <img src="../Assets/images/Blog/blog1.jpg" alt="Blog 1" />
        </div>
        <div class="blog-content">
          <div class="blog-meta">
            <div>✦ SoberAli</div>
            <div>📅 21 August,2020</div>
          </div>
          <div class="blog-title">Top essential Trends in 2021</div>
          <div class="blog-desc">
            More off this less hello samlande lied much over tightly
            circa horse taped mighty.
          </div>
          <a class="blog-readmore" href="#">Read More</a>
        </div>
      </article>
      <article class="blog-card">
        <div class="blog-image">
          <img src="../Assets/images/Blog/blog2.jpg" alt="Blog 2" />
        </div>
        <div class="blog-content">
          <div class="blog-meta">
            <div>✦ SurFusion</div>
            <div>📅 21 August,2020</div>
          </div>
          <div class="blog-title">Top essential trends in 2021</div>
          <div class="blog-desc">
            More off this less hello samlande lied much over tightly
            circa horse taped mighty.
          </div>
          <a class="blog-readmore" href="#">Read More</a>
        </div>
      </article>
      <article class="blog-card">
        <div class="blog-image">
          <img src="../Assets/images/Blog/blog3.jpg" alt="Blog 3" />
        </div>
        <div class="blog-content">
          <div class="blog-meta">
            <div>✦ SoberAli</div>
            <div>📅 21 August,2020</div>
          </div>
          <div class="blog-title">Top essentiel Trends in 2021</div>
          <div class="blog-desc">
            More off this less hello samlande lied much over tightly
            circa horse taped mighty.
          </div>
          <a class="blog-readmore" href="#">Read More</a>
        </div>
      </article>
    </div>
  </section>
  <!-- FOOTER -->
  <footer>
    <div class="footer-top">
      <div class="footer-col footer-newsletter">
        <h4>Phuc Long</h4>
        <div class="newsletter-input-row">
          <input type="email" placeholder="Enter Email Address" />
          <button>Sign Up</button>
        </div>
        <div class="footer-address">
          <strong>Contact Info</strong><br />
          Floor 7, Room 702, Central Plaza Building, No. 17 Le Duan street,
          Ben Nghe ward, district 1, Ho Chi Minh city.
        </div>
      </div>
      <div class="footer-col">
        <h4>Products</h4>
        <div class="footer-links">
          <a href="#">Drinks</a>
          <a href="#">Bakery</a>
          <a href="#">Mooncake</a>
          <a href="#">Halloween Collections</a>
        </div>
      </div>
      <div class="footer-col">
        <h4>Customer Care</h4>
        <div class="footer-links">
          <a href="#">My Account</a>
          <a href="#">Discount</a>
          <a href="#">Returns</a>
          <a href="#">Orders History</a>
          <a href="#">Order Tracking</a>
        </div>
      </div>
      <div class="footer-col">
        <h4>Pages</h4>
        <div class="footer-links">
          <a href="#">Blog</a>
          <a href="#">Browse the Shop</a>
        </div>
      </div>
    </div>
    <div class="footer-bottom">
      <div class="footer-bottom-inner">
        <div>©phuclong.com - All Rights Reserved</div>
        <div class="footer-social">
          <div class="social-circle">f</div>
          <div class="social-circle">📷</div>
        </div>
      </div>
    </div>
  </footer>
  <script>
    // Cart Manager - Quản lý giỏ hàng
    class CartManager {
        constructor() {
            this.cart = this.loadCart();
            this.updateCartIcon();
        }
        // Lưu giỏ hàng vào localStorage
        saveCart() {
            localStorage.setItem('phuclong_cart', JSON.stringify(this.cart));
           
            // Lưu giỏ hàng theo user ID nếu đã đăng nhập
            const currentUser = JSON.parse(localStorage.getItem('phuclong_current_user') || 'null');
            if (currentUser) {
                localStorage.setItem(`phuclong_cart_${currentUser.id}`, JSON.stringify(this.cart));
                console.log(`Saved cart for user ${currentUser.id}:`, this.cart);
            }
           
            this.updateCartIcon();
        }
        // Load giỏ hàng từ localStorage
        loadCart() {
            const savedCart = localStorage.getItem('phuclong_cart');
            return savedCart ? JSON.parse(savedCart) : [];
        }
        // Thêm sản phẩm vào giỏ hàng
        addToCart(product) {
            const existingItem = this.cart.find(item => item.id === product.id);
           
            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                this.cart.push({
                    id: product.id,
                    name: product.name,
                    price: product.price,
                    image: product.image,
                    quantity: 1
                });
            }
           
            this.saveCart();
            this.showSuccessMessage(product.name);
        }
        // Xóa sản phẩm khỏi giỏ hàng
        removeFromCart(productId) {
            this.cart = this.cart.filter(item => item.id !== productId);
            this.saveCart();
        }
        // Cập nhật số lượng sản phẩm
        updateQuantity(productId, quantity) {
            const item = this.cart.find(item => item.id === productId);
            if (item) {
                if (quantity <= 0) {
                    this.removeFromCart(productId);
                } else {
                    item.quantity = quantity;
                    this.saveCart();
                }
            }
        }
        // Lấy tổng số sản phẩm trong giỏ hàng
        getTotalItems() {
            return this.cart.reduce((total, item) => total + item.quantity, 0);
        }
        // Lấy tổng giá trị giỏ hàng
        getTotalPrice() {
            return this.cart.reduce((total, item) => total + (item.price * item.quantity), 0);
        }
        // Cập nhật icon giỏ hàng
        updateCartIcon() {
            const cartIcons = document.querySelectorAll('.cart-icon, .cart-link');
            const totalItems = this.getTotalItems();
           
            cartIcons.forEach(icon => {
                // Xóa badge cũ nếu có
                const existingBadge = icon.querySelector('.cart-badge');
                if (existingBadge) {
                    existingBadge.remove();
                }
               
                // Thêm badge mới nếu có sản phẩm
                if (totalItems > 0) {
                    const badge = document.createElement('span');
                    badge.className = 'cart-badge';
                    badge.textContent = totalItems;
                    badge.style.cssText = `
                        position: absolute;
                        top: -5px;
                        right: -5px;
                        background-color: #fb2e86;
                        color: white;
                        border-radius: 50%;
                        width: 20px;
                        height: 20px;
                        font-size: 12px;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        font-weight: bold;
                    `;
                    icon.style.position = 'relative';
                    icon.appendChild(badge);
                }
            });
        }
        // Hiển thị popup xác nhận
        showConfirmDialog(product) {
            console.log('showConfirmDialog called with product:', product);
            // Xóa modal cũ nếu có
            const existingModal = document.querySelector('.cart-confirm-modal');
            if (existingModal) {
                document.body.removeChild(existingModal);
            }
            const modal = document.createElement('div');
            modal.className = 'cart-confirm-modal';
            modal.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background-color: rgba(0,0,0,0.5);
                display: flex;
                align-items: center;
                justify-content: center;
                z-index: 10000;
            `;
            modal.innerHTML = `
                <div class="modal-content" style="
                    background: white;
                    padding: 30px;
                    border-radius: 8px;
                    text-align: center;
                    max-width: 400px;
                    width: 90%;
                    box-shadow: 0 4px 20px rgba(0,0,0,0.3);
                ">
                    <h3 style="color: #0d0e43; margin-bottom: 20px; font-size: 20px;">
                        Thêm vào giỏ hàng
                    </h3>
                    <div style="margin-bottom: 20px;">
                        <img src="${product.image}" alt="${product.name}" style="
                            width: 80px;
                            height: 80px;
                            object-fit: contain;
                            border-radius: 8px;
                            background-color: #f8f9fa;
                            padding: 8px;
                            margin-bottom: 15px;
                        ">
                        <p style="color: #666; font-size: 16px;">
                            Bạn có muốn thêm <strong>"${product.name}"</strong> vào giỏ hàng không?
                        </p>
                    </div>
                    <div style="display: flex; gap: 15px; justify-content: center;">
                        <button class="btn-cancel" style="
                            background-color: #f8f9fa;
                            color: #666;
                            border: 1px solid #ddd;
                            padding: 10px 20px;
                            border-radius: 4px;
                            cursor: pointer;
                            font-weight: 600;
                        ">Không</button>
                        <button class="btn-confirm" style="
                            background-color: #fb2e86;
                            color: white;
                            border: none;
                            padding: 10px 20px;
                            border-radius: 4px;
                            cursor: pointer;
                            font-weight: 600;
                        ">Có</button>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
            // Event listeners
            modal.querySelector('.btn-cancel').addEventListener('click', () => {
                if (document.body.contains(modal)) {
                    document.body.removeChild(modal);
                }
            });
            modal.querySelector('.btn-confirm').addEventListener('click', () => {
                this.addToCart(product);
                if (document.body.contains(modal)) {
                    document.body.removeChild(modal);
                }
            });
            // Close on background click
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    if (document.body.contains(modal)) {
                        document.body.removeChild(modal);
                    }
                }
            });
        }
        // Hiển thị thông báo thành công
        showSuccessMessage(productName) {
            const notification = document.createElement('div');
            notification.className = 'cart-success-notification';
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background-color: #28a745;
                color: white;
                padding: 15px 20px;
                border-radius: 4px;
                z-index: 10001;
                font-weight: 600;
                box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            `;
            notification.textContent = `Đã thêm "${productName}" vào giỏ hàng!`;
            document.body.appendChild(notification);
            // Auto remove after 3 seconds
            setTimeout(() => {
                if (document.body.contains(notification)) {
                    document.body.removeChild(notification);
                }
            }, 3000);
        }
        // Chuyển đến trang giỏ hàng
        goToCart() {
            window.location.href = 'ClientSite/shopping-cart.html';
        }
    }
    // Khởi tạo Cart Manager
    const cartManager = new CartManager();
    // Hàm thêm sản phẩm vào giỏ hàng (để sử dụng trong HTML)
    function addToCart(productId, productName, productPrice, productImage) {
        console.log('addToCart called:', {productId, productName, productPrice, productImage});
       
        // Kiểm tra đăng nhập
        const isLoggedIn = localStorage.getItem('phuclong_user_logged_in') === 'true';
        console.log('isLoggedIn:', isLoggedIn);
       
        if (!isLoggedIn) {
            console.log('Showing login dialog');
            showLoginDialog();
            return;
        }
       
        const product = {
            id: productId,
            name: productName,
            price: parseFloat(productPrice),
            image: productImage
        };
       
        console.log('Showing confirm dialog for product:', product);
        cartManager.showConfirmDialog(product);
    }
    // Hàm hiển thị popup đăng nhập
    function showLoginDialog() {
        console.log('showLoginDialog called');
        const modal = document.createElement('div');
        modal.className = 'login-modal';
        modal.style.cssText = `
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10000;
        `;
        modal.innerHTML = `
            <div class="modal-content" style="
                background: white;
                padding: 30px;
                border-radius: 8px;
                text-align: center;
                max-width: 450px;
                width: 90%;
                box-shadow: 0 4px 20px rgba(0,0,0,0.3);
            ">
                <h3 style="color: #0d0e43; margin-bottom: 20px; font-size: 20px;">
                    Đăng nhập
                </h3>
                <form id="loginForm" style="text-align: left;">
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">Tài khoản:</label>
                        <input type="text" id="loginUsername" placeholder="Nhập tài khoản" style="
                            width: 100%;
                            padding: 10px;
                            border: 1px solid #ddd;
                            border-radius: 4px;
                            font-size: 14px;
                        " required>
                    </div>
                    <div style="margin-bottom: 20px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">Mật khẩu:</label>
                        <input type="password" id="loginPassword" placeholder="Nhập mật khẩu" style="
                            width: 100%;
                            padding: 10px;
                            border: 1px solid #ddd;
                            border-radius: 4px;
                            font-size: 14px;
                        " required>
                    </div>
                    <div style="display: flex; gap: 10px; justify-content: center; margin-bottom: 15px;">
                        <button type="button" class="btn-cancel" style="
                            background-color: #f8f9fa;
                            color: #666;
                            border: 1px solid #ddd;
                            padding: 10px 20px;
                            border-radius: 4px;
                            cursor: pointer;
                            font-weight: 600;
                        ">Hủy</button>
                        <button type="submit" class="btn-login" style="
                            background-color: #fb2e86;
                            color: white;
                            border: none;
                            padding: 10px 20px;
                            border-radius: 4px;
                            cursor: pointer;
                            font-weight: 600;
                        ">Đăng nhập</button>
                    </div>
                    <div style="text-align: center;">
                        <button type="button" class="btn-register" style="
                            background: none;
                            border: none;
                            color: #fb2e86;
                            cursor: pointer;
                            text-decoration: underline;
                            font-size: 14px;
                        ">Chưa có tài khoản? Đăng ký ngay</button>
                    </div>
                </form>
            </div>
        `;
        document.body.appendChild(modal);
        // Event listeners
        modal.querySelector('.btn-cancel').addEventListener('click', () => {
            document.body.removeChild(modal);
        });
        modal.querySelector('.btn-register').addEventListener('click', () => {
            document.body.removeChild(modal);
            showRegisterDialog();
        });
        modal.querySelector('#loginForm').addEventListener('submit', (e) => {
            e.preventDefault();
            const username = document.getElementById('loginUsername').value;
            const password = document.getElementById('loginPassword').value;
           
            if (loginUser(username, password)) {
                document.body.removeChild(modal);
                showSuccessMessage('Đăng nhập thành công!');
            } else {
                showErrorMessage('Tài khoản hoặc mật khẩu không đúng!');
            }
        });
        // Close on background click
        modal.addEventListener('click', (e) => {
            if (e.target === modal) {
                document.body.removeChild(modal);
            }
        });
    }
    // Hàm hiển thị popup đăng ký
    function showRegisterDialog() {
        console.log('showRegisterDialog called');
        const modal = document.createElement('div');
        modal.className = 'register-modal';
        modal.style.cssText = `
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10000;
        `;
        modal.innerHTML = `
            <div class="modal-content" style="
                background: white;
                padding: 30px;
                border-radius: 8px;
                text-align: center;
                max-width: 500px;
                width: 90%;
                box-shadow: 0 4px 20px rgba(0,0,0,0.3);
                max-height: 90vh;
                overflow-y: auto;
            ">
                <h3 style="color: #0d0e43; margin-bottom: 20px; font-size: 20px;">
                    Đăng ký tài khoản
                </h3>
                <form id="registerForm" style="text-align: left;">
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">Họ tên:</label>
                        <input type="text" id="registerName" placeholder="Nhập họ tên" style="
                            width: 100%;
                            padding: 10px;
                            border: 1px solid #ddd;
                            border-radius: 4px;
                            font-size: 14px;
                        " required>
                    </div>
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">Tài khoản:</label>
                        <input type="text" id="registerUsername" placeholder="Nhập tài khoản" style="
                            width: 100%;
                            padding: 10px;
                            border: 1px solid #ddd;
                            border-radius: 4px;
                            font-size: 14px;
                        " required>
                    </div>
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">Email:</label>
                        <input type="email" id="registerEmail" placeholder="Nhập email" style="
                            width: 100%;
                            padding: 10px;
                            border: 1px solid #ddd;
                            border-radius: 4px;
                            font-size: 14px;
                        " required>
                    </div>
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">Số điện thoại:</label>
                        <input type="tel" id="registerPhone" placeholder="Nhập số điện thoại" style="
                            width: 100%;
                            padding: 10px;
                            border: 1px solid #ddd;
                            border-radius: 4px;
                            font-size: 14px;
                        " required>
                    </div>
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">Mật khẩu:</label>
                        <input type="password" id="registerPassword" placeholder="Nhập mật khẩu" style="
                            width: 100%;
                            padding: 10px;
                            border: 1px solid #ddd;
                            border-radius: 4px;
                            font-size: 14px;
                        " required>
                    </div>
                    <div style="margin-bottom: 20px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">Xác nhận mật khẩu:</label>
                        <input type="password" id="registerConfirmPassword" placeholder="Nhập lại mật khẩu" style="
                            width: 100%;
                            padding: 10px;
                            border: 1px solid #ddd;
                            border-radius: 4px;
                            font-size: 14px;
                        " required>
                    </div>
                    <div style="display: flex; gap: 10px; justify-content: center; margin-bottom: 15px;">
                        <button type="button" class="btn-cancel" style="
                            background-color: #f8f9fa;
                            color: #666;
                            border: 1px solid #ddd;
                            padding: 10px 20px;
                            border-radius: 4px;
                            cursor: pointer;
                            font-weight: 600;
                        ">Hủy</button>
                        <button type="submit" class="btn-register" style="
                            background-color: #fb2e86;
                            color: white;
                            border: none;
                            padding: 10px 20px;
                            border-radius: 4px;
                            cursor: pointer;
                            font-weight: 600;
                        ">Đăng ký</button>
                    </div>
                    <div style="text-align: center;">
                        <button type="button" class="btn-login" style="
                            background: none;
                            border: none;
                            color: #fb2e86;
                            cursor: pointer;
                            text-decoration: underline;
                            font-size: 14px;
                        ">Đã có tài khoản? Đăng nhập</button>
                    </div>
                </form>
            </div>
        `;
        document.body.appendChild(modal);
        // Event listeners
        modal.querySelector('.btn-cancel').addEventListener('click', () => {
            document.body.removeChild(modal);
        });
        modal.querySelector('.btn-login').addEventListener('click', () => {
            document.body.removeChild(modal);
            showLoginDialog();
        });
        modal.querySelector('#registerForm').addEventListener('submit', (e) => {
            e.preventDefault();
            const name = document.getElementById('registerName').value;
            const username = document.getElementById('registerUsername').value;
            const email = document.getElementById('registerEmail').value;
            const phone = document.getElementById('registerPhone').value;
            const password = document.getElementById('registerPassword').value;
            const confirmPassword = document.getElementById('registerConfirmPassword').value;
           
            if (password !== confirmPassword) {
                showErrorMessage('Mật khẩu xác nhận không khớp!');
                return;
            }
           
            if (registerUser(name, username, email, phone, password)) {
                document.body.removeChild(modal);
                showSuccessMessage('Đăng ký thành công! Vui lòng đăng nhập.');
                setTimeout(() => {
                    showLoginDialog();
                }, 1000);
            } else {
                showErrorMessage('Tài khoản đã tồn tại!');
            }
        });
        // Close on background click
        modal.addEventListener('click', (e) => {
            if (e.target === modal) {
                document.body.removeChild(modal);
            }
        });
    }
    // Hàm hiển thị thông báo thành công
    function showSuccessMessage(message) {
        const notification = document.createElement('div');
        notification.className = 'success-notification';
        notification.style.cssText = `
            position: fixed;
            top: 20px;
            right: 20px;
            background-color: #28a745;
            color: white;
            padding: 15px 20px;
            border-radius: 4px;
            z-index: 10001;
            font-weight: 600;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
        `;
        notification.textContent = message;
        document.body.appendChild(notification);
        // Auto remove after 3 seconds
        setTimeout(() => {
            if (document.body.contains(notification)) {
                document.body.removeChild(notification);
            }
        }, 3000);
    }
    // Hàm hiển thị thông báo lỗi
    function showErrorMessage(message) {
        const notification = document.createElement('div');
        notification.className = 'error-notification';
        notification.style.cssText = `
            position: fixed;
            top: 20px;
            right: 20px;
            background-color: #dc3545;
            color: white;
            padding: 15px 20px;
            border-radius: 4px;
            z-index: 10001;
            font-weight: 600;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
        `;
        notification.textContent = message;
        document.body.appendChild(notification);
        // Auto remove after 3 seconds
        setTimeout(() => {
            if (document.body.contains(notification)) {
                document.body.removeChild(notification);
            }
        }, 3000);
    }
    // Hàm chuyển đến giỏ hàng
    function goToCart() {
        cartManager.goToCart();
    }
    // ===== QUẢN LÝ NGƯỜI DÙNG =====
    // Hàm đăng ký người dùng
    function registerUser(name, username, email, phone, password) {
        const users = JSON.parse(localStorage.getItem('phuclong_users') || '[]');
       
        // Kiểm tra tài khoản đã tồn tại
        if (users.find(user => user.username === username)) {
            return false;
        }
       
        // Tạo người dùng mới
        const newUser = {
            id: Date.now(),
            name: name,
            username: username,
            email: email,
            phone: phone,
            password: password, // Trong thực tế nên hash password
            createdAt: new Date().toISOString()
        };
       
        users.push(newUser);
        localStorage.setItem('phuclong_users', JSON.stringify(users));
       
        console.log('User registered:', newUser);
        console.log('All users:', users);
        return true;
    }
    // Hàm đăng nhập người dùng
    function loginUser(username, password) {
        const users = JSON.parse(localStorage.getItem('phuclong_users') || '[]');
        const user = users.find(u => u.username === username && u.password === password);
       
        if (user) {
            // Lưu thông tin đăng nhập
            localStorage.setItem('phuclong_user_logged_in', 'true');
            localStorage.setItem('phuclong_current_user', JSON.stringify({
                id: user.id,
                name: user.name,
                username: user.username,
                email: user.email,
                phone: user.phone
            }));
           
            // Load lại giỏ hàng của người dùng này
            const userCart = JSON.parse(localStorage.getItem(`phuclong_cart_${user.id}`) || '[]');
            localStorage.setItem('phuclong_cart', JSON.stringify(userCart));
           
            console.log('User logged in:', user);
            console.log('Loaded cart for user:', userCart);
            return true;
        }
       
        return false;
    }
    // Hàm đăng xuất
    function logoutUser() {
        // Lưu giỏ hàng của người dùng hiện tại trước khi đăng xuất
        const currentUser = JSON.parse(localStorage.getItem('phuclong_current_user') || 'null');
        const currentCart = JSON.parse(localStorage.getItem('phuclong_cart') || '[]');
       
        if (currentUser && currentCart.length > 0) {
            // Lưu giỏ hàng theo user ID
            localStorage.setItem(`phuclong_cart_${currentUser.id}`, JSON.stringify(currentCart));
            console.log(`Saved cart for user ${currentUser.id}:`, currentCart);
        }
       
        localStorage.removeItem('phuclong_user_logged_in');
        localStorage.removeItem('phuclong_current_user');
        localStorage.removeItem('phuclong_cart'); // Xóa giỏ hàng tạm thời
        console.log('User logged out');
    }
    // Hàm hiển thị thông tin lưu trữ dữ liệu
    function showDataStorageInfo() {
        const modal = document.createElement('div');
        modal.className = 'data-storage-modal';
        modal.style.cssText = `
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10000;
        `;
        const users = JSON.parse(localStorage.getItem('phuclong_users') || '[]');
        const currentUser = JSON.parse(localStorage.getItem('phuclong_current_user') || 'null');
        const cart = JSON.parse(localStorage.getItem('phuclong_cart') || '[]');
        modal.innerHTML = `
            <div class="modal-content" style="
                background: white;
                padding: 30px;
                border-radius: 8px;
                text-align: left;
                max-width: 600px;
                width: 90%;
                box-shadow: 0 4px 20px rgba(0,0,0,0.3);
                max-height: 80vh;
                overflow-y: auto;
            ">
                <h3 style="color: #0d0e43; margin-bottom: 20px; font-size: 20px; text-align: center;">
                    📊 Thông tin lưu trữ dữ liệu
                </h3>
               
                <div style="margin-bottom: 20px;">
                    <h4 style="color: #333; margin-bottom: 10px;">📍 Nơi lưu trữ:</h4>
                    <p style="color: #666; margin-bottom: 10px;">
                        <strong>Browser LocalStorage</strong> - Dữ liệu được lưu trữ trên máy tính của bạn
                    </p>
                    <p style="color: #666; font-size: 14px;">
                        Đường dẫn: <code>D:/Final-Web-Project/</code> (chỉ chứa code, không chứa dữ liệu)
                    </p>
                </div>
                <div style="margin-bottom: 20px;">
                    <h4 style="color: #333; margin-bottom: 10px;">👥 Người dùng đã đăng ký:</h4>
                    <div style="background: #f8f9fa; padding: 15px; border-radius: 4px; margin-bottom: 10px;">
                        <strong>Số lượng:</strong> ${users.length} tài khoản
                    </div>
                    ${users.length > 0 ? `
                        <div style="max-height: 200px; overflow-y: auto;">
                            ${users.map(user => `
                                <div style="border: 1px solid #ddd; padding: 10px; margin-bottom: 10px; border-radius: 4px;">
                                    <strong>${user.name}</strong> (${user.username})<br>
                                    <small style="color: #666;">Email: ${user.email} | Phone: ${user.phone}</small>
                                </div>
                            `).join('')}
                        </div>
                    ` : '<p style="color: #666;">Chưa có người dùng nào đăng ký</p>'}
                </div>
                <div style="margin-bottom: 20px;">
                    <h4 style="color: #333; margin-bottom: 10px;">🔐 Người dùng hiện tại:</h4>
                    ${currentUser ? `
                        <div style="background: #e8f5e8; padding: 15px; border-radius: 4px;">
                            <strong>${currentUser.name}</strong> (${currentUser.username})<br>
                            <small style="color: #666;">Email: ${currentUser.email}</small>
                        </div>
                    ` : '<p style="color: #666;">Chưa đăng nhập</p>'}
                </div>
                <div style="margin-bottom: 20px;">
                    <h4 style="color: #333; margin-bottom: 10px;">🛒 Giỏ hàng:</h4>
                    <div style="background: #f8f9fa; padding: 15px; border-radius: 4px;">
                        <strong>Số sản phẩm:</strong> ${cart.length} sản phẩm<br>
                        <strong>Tổng tiền:</strong> ₫${cart.reduce((total, item) => total + (item.price * item.quantity), 0).toLocaleString()}
                    </div>
                </div>
                <div style="text-align: center;">
                    <button class="btn-close" style="
                        background-color: #fb2e86;
                        color: white;
                        border: none;
                        padding: 10px 20px;
                        border-radius: 4px;
                        cursor: pointer;
                        font-weight: 600;
                    ">Đóng</button>
                </div>
            </div>
        `;
        document.body.appendChild(modal);
        // Event listener
        modal.querySelector('.btn-close').addEventListener('click', () => {
            document.body.removeChild(modal);
        });
        // Close on background click
        modal.addEventListener('click', (e) => {
            if (e.target === modal) {
                document.body.removeChild(modal);
            }
        });
    }
    // Hàm xóa tất cả dữ liệu (để test)
    function clearAllData() {
        if (confirm('Bạn có chắc chắn muốn xóa TẤT CẢ dữ liệu? (Người dùng, giỏ hàng, v.v.)')) {
            localStorage.removeItem('phuclong_users');
            localStorage.removeItem('phuclong_current_user');
            localStorage.removeItem('phuclong_user_logged_in');
            localStorage.removeItem('phuclong_cart');
            alert('Đã xóa tất cả dữ liệu!');
            location.reload();
        }
    }
    // Thêm các hàm debug vào window
    window.showDataStorageInfo = showDataStorageInfo;
    window.clearAllData = clearAllData;
    window.debugCart = function() {
        console.log('=== CART DEBUG ===');
        console.log('localStorage phuclong_cart:', localStorage.getItem('phuclong_cart'));
        console.log('Parsed cart:', JSON.parse(localStorage.getItem('phuclong_cart') || '[]'));
        console.log('==================');
    };
    // Hàm debug để xem tất cả giỏ hàng của các user
    window.debugAllCarts = function() {
        console.log('=== ALL USER CARTS DEBUG ===');
        const users = JSON.parse(localStorage.getItem('phuclong_users') || '[]');
        users.forEach(user => {
            const userCart = JSON.parse(localStorage.getItem(`phuclong_cart_${user.id}`) || '[]');
            console.log(`User ${user.username} (ID: ${user.id}):`, userCart);
        });
        console.log('Current active cart:', JSON.parse(localStorage.getItem('phuclong_cart') || '[]'));
        console.log('================================');
    };
    // Hàm toggle đăng nhập/đăng xuất
    function toggleLogin() {
        const isLoggedIn = localStorage.getItem('phuclong_user_logged_in') === 'true';
        const loginStatus = document.getElementById('loginStatus');
       
        if (isLoggedIn) {
            // Hiển thị popup xác nhận đăng xuất
            showLogoutConfirmDialog();
        } else {
            // Hiển thị popup đăng nhập
            showLoginDialog();
        }
    }
    // Hàm hiển thị popup xác nhận đăng xuất
    function showLogoutConfirmDialog() {
        const modal = document.createElement('div');
        modal.className = 'logout-confirm-modal';
        modal.style.cssText = `
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10000;
        `;
        modal.innerHTML = `
            <div class="modal-content" style="
                background: white;
                padding: 30px;
                border-radius: 8px;
                text-align: center;
                max-width: 400px;
                width: 90%;
                box-shadow: 0 4px 20px rgba(0,0,0,0.3);
            ">
                <h3 style="color: #0d0e43; margin-bottom: 20px; font-size: 20px;">
                    Xác nhận đăng xuất
                </h3>
                <p style="color: #666; margin-bottom: 20px;">
                    Bạn có chắc chắn muốn đăng xuất không?
                </p>
                <div style="display: flex; gap: 15px; justify-content: center;">
                    <button class="btn-cancel" style="
                        background-color: #f8f9fa;
                        color: #666;
                        border: 1px solid #ddd;
                        padding: 10px 20px;
                        border-radius: 4px;
                        cursor: pointer;
                        font-weight: 600;
                    ">Hủy</button>
                    <button class="btn-confirm-logout" style="
                        background-color: #dc3545;
                        color: white;
                        border: none;
                        padding: 10px 20px;
                        border-radius: 4px;
                        cursor: pointer;
                        font-weight: 600;
                    ">Đăng xuất</button>
                </div>
            </div>
        `;
        document.body.appendChild(modal);
        // Event listeners
        modal.querySelector('.btn-cancel').addEventListener('click', () => {
            document.body.removeChild(modal);
        });
        modal.querySelector('.btn-confirm-logout').addEventListener('click', () => {
            // Thực hiện đăng xuất
            logoutUser();
            const loginStatus = document.getElementById('loginStatus');
            loginStatus.textContent = 'Login';
            showSuccessMessage('Đã đăng xuất!');
            cartManager.updateCartIcon();
           
            document.body.removeChild(modal);
        });
        // Close on background click
        modal.addEventListener('click', (e) => {
            if (e.target === modal) {
                document.body.removeChild(modal);
            }
        });
    }
    // Cập nhật trạng thái đăng nhập khi trang load
    function updateLoginStatus() {
        const isLoggedIn = localStorage.getItem('phuclong_user_logged_in') === 'true';
        const loginStatus = document.getElementById('loginStatus');
       
        if (loginStatus) {
            loginStatus.textContent = isLoggedIn ? 'Logout' : 'Login';
        }
    }
    // Cập nhật cart icon khi trang load
    document.addEventListener('DOMContentLoaded', function() {
        cartManager.updateCartIcon();
        updateLoginStatus();
    });
    // simple horizontal scroll carousel for each .carousel
    document.querySelectorAll(".carousel").forEach((carouselEl) => {
      const track = carouselEl.querySelector(".carousel-track");
      const windowEl = carouselEl.querySelector(".carousel-window");
      const leftBtn = carouselEl.querySelector(".carousel-arrow.left");
      const rightBtn = carouselEl.querySelector(".carousel-arrow.right");
      // trong track, mỗi .product-card có width cố định 200px + gap 16px
      // ta sẽ scroll theo đúng 1 card
      const getStep = () => {
        const card = track.querySelector(".product-card");
        if (!card) return 220; // fallback
        const style = window.getComputedStyle(card);
        const cardWidth = card.getBoundingClientRect().width;
        const marginRight = parseFloat(style.marginRight) || 0;
        return cardWidth + marginRight + 16; // 16 = gap flex
      };
      leftBtn.addEventListener("click", () => {
        windowEl.scrollBy({
          left: -getStep(),
          behavior: "smooth",
        });
      });
      rightBtn.addEventListener("click", () => {
        windowEl.scrollBy({
          left: getStep(),
          behavior: "smooth",
        });
      });
      // make the inner track scrollable horizontally inside windowEl
      // we actually scroll windowEl, not track
      // so ensure no scrollbar ugly:
      windowEl.style.scrollBehavior = "smooth";
      windowEl.style.overflowX = "auto";
      windowEl.style.scrollSnapType = "x mandatory";
      // snap each card
      track.querySelectorAll(".product-card").forEach((card) => {
        card.style.scrollSnapAlign = "start";
      });
    });
    // Debug script
    console.log('Home page loaded');
    console.log('addToCart function exists:', typeof addToCart);
    console.log('cartManager exists:', typeof cartManager);
   
    // Test function
    function testAddToCart() {
      console.log('Testing addToCart...');
      addToCart('test', 'Test Product', 10000, 'test.png');
    }
   
    // Make test function global
    window.testAddToCart = testAddToCart;
    // Hàm chuyển đến trang chi tiết sản phẩm
    function goToProductDetail(productId, productName, productPrice, productImage) {
      // Lưu thông tin sản phẩm vào localStorage để trang product details có thể đọc
      const productData = {
        id: productId,
        name: productName,
        price: productPrice,
        image: productImage
      };
     
      localStorage.setItem('phuclong_current_product', JSON.stringify(productData));
     
      // Chuyển đến trang product details (cùng thư mục)
      window.location.href = 'product details.html';
    }
  </script>
</body>
</html>
